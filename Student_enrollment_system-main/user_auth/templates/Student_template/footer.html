{% load static %}

<footer class="footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-6">
                <script>document.write(new Date().getFullYear())</script> &copy; Student Enrollment
            </div>
            <div class="col-md-6">
                <div class="text-md-end footer-links d-none d-sm-block">
                    <a href="javascript:void(0);">About Us</a>
                    <a href="javascript:void(0);">Help</a>
                    <a href="javascript:void(0);">Contact Us</a>
                </div>
            </div>
        </div>
    </div>  
</footer>
<!-- end Footer -->

</div>
<!-- END wrapper -->

<!-- Right Sidebar -->

<!-- /Right-bar -->

<!-- Right bar overlay-->
<div class="rightbar-overlay"></div>

<!-- Vendor js -->
<script src="{% static 'assets/js/vendor.min.js' %}"></script>

<!-- Apex js-->
<script src="{% static 'assets/libs/apexcharts/apexcharts.min.js' %}"></script>
<script src="{% static 'assets/libs/moment/min/moment.min.js' %}"></script>
<script src="{% static 'assets/libs/jquery.scrollto/jquery.scrollTo.min.js' %}"></script>
<script src="{% static 'assets/js/Jquerydatatable.js'  %}"></script>

<!-- TODO js-->
<script src="{% static 'assets/js/pages/jquery.todo.js' %}"></script>

<!-- Dashboard init-->
<script src="{% static 'assets/js/pages/dashboard-crm.init.js' %}"></script>

<!-- App js -->
<script src="{% static 'assets/js/app.min.js' %}"></script>

<script src="{% static 'assets/libs/twitter-bootstrap-wizard/jquery.bootstrap.wizard.min.js' %}"></script>

<!-- Init js-->
<script src="{% static 'assets/js/pages/form-wizard.init.js' %}"></script>

<script>
    $("document").ready(function (){
     var user_name =  localStorage.getItem('username')
    //  console.log(user_name)
    
     document.getElementById("username").innerHTML = user_name;
     var usertype =  localStorage.getItem('usertype')
    
     if (usertype == 1) {
                        // li_state = document.getElementById("state_create_s");
                        // li_state.classList.remove("hide")
                       // li_block_allocation = document.getElementById("block_allocate_s");
                       // li_block_allocation.classList.remove("hide")
                       // li_state_allocation = document.getElementById("state_allocation_s");
                       // li_state_allocation.classList.remove("hide")
                        li_mentor_data = document.getElementById("mentor_data_s");
                        li_mentor_data.classList.remove("hide")
                        li_user_create = document.getElementById("user_create_s");
                        li_user_create.classList.remove("hide")
                        li_village = document.getElementById("village_s");
                        li_village.classList.remove("hide")
                        li_program = document.getElementById("program_s");
                        li_program.classList.remove("hide")
                       // li_block_create = document.getElementById("block_create_s");
                        //li_block_create.classList.remove("hide")
                        li_admin_dashboard= document.getElementById("admin_dashboard");
                        li_admin_dashboard.classList.remove("hide")
                        li_student= document.getElementById("students_s");
                        li_student.classList.remove("hide"),
                        li_block_user= document.getElementById("block_user_s");
                        li_block_user.classList.remove("hide")
                        li_all_user= document.getElementById("all_user");
                        li_all_user.classList.remove("hide")
                        li_all_blocks= document.getElementById("all_blocks");
                        li_all_blocks.classList.remove("hide")
                        li_state_alloc= document.getElementById("state_alloc");
                        li_state_alloc.classList.remove("hide")
                        li_block_alloc= document.getElementById("block_alloc");
                        li_block_alloc.classList.remove("hide")
                        li_program_alloc= document.getElementById("program_alloc");
                        li_program_alloc.classList.remove("hide")


                        
                        
              
                      } else if (usertype == 2) {
                        li_state_dashboard= document.getElementById("state_dashboard");
                        li_state_dashboard.classList.remove("hide")
                        li_state_block_user = document.getElementById("block_user_s");
                        li_state_block_user.classList.remove("hide")
                      }
                      else if (usertype == 3) {
                        li_block_dashboard= document.getElementById("block_dashboard");
                        li_block_dashboard.classList.remove("hide")
                        // li_state = document.getElementById("state_create_s");
                        // li_state.classList.("hide")
                      }
    
    });
    </script>
<script>
    function getToken() {
                // This function should return the user token dynamically
                return (localStorage.getItem('token'));
            }
 $(document).ready(function() {
 // Bind a click event to the logout button
 $("#logout-btn").click(function() {
  
     // Get the token from local storage or cookies
     var token = localStorage.getItem("token");

     // Send an AJAX request to the server to log out the user
     $.ajax({
         url: "http://127.0.0.1:8000/logout_user/", // URL to the server-side logout endpoint
         type: "POST",
         headers: {
                   'Authorization': `token ${getToken()}`
               },
         success: function() {
             // Clear the token from local storage or cookies
             localStorage.removeItem("token");
             localStorage.clear();
                console.log("i am working")
             // Redirect the user to the login page
             window.location.href = "/login_user";
         },
         error: function() {
             // Display an error message to the user
             alert("Failed to log out. Please try again later.");
         }
     });
 });
});
</script>

<script>
    
    $(document).ready(function(){
        if (!localStorage.getItem('token')){
            window.location.href='/login_user';
        }
    
    });
</script>


{% block extra_js %}
{% endblock extra_js%}


</body>

<!-- Mirrored from coderthemes.com/minton_html/layouts/default/dashboard-crm.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 30 Jun 2022 05:40:02 GMT -->
</html>
